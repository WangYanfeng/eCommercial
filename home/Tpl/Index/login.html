<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
	<title>易通商务管理系统</title>
	<link rel="stylesheet" type="text/css" href="home/Public/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="home/Public/css/login.css">
	<link rel="stylesheet" type="text/css" href="ext/resources/css/ext-all.css">
	<script type="text/javascript" src="ext/adapter/ext/ext-base.js"></script>
	<script type="text/javascript" src="ext/ext-all.js"></script>
	<script>
	Ext.onReady(function(){
		Ext.QuickTips.init();
		var loginForm=new Ext.form.Panel({
			renderTo:'login',
			id:'loginForm',
			title:'登录',
			height:300,
			url:'/Index/login',
			bodyStyle:'padding-top:30px;padding-left:15px;',
			defaults:{
				labelSeparator:':',
				labelWidth:90,
				height:30,
				allowBlank:false,
				blankText:'不允许为空',
				labelAlign:'left',
				msgTarget:'qtip'
			},
			items:[{
				xtype:'textfield',
				size:30,
				name:'vender_name',
				fieldLabel:'店铺账号'
			},{
				xtype:'textfield',
				name:'vender_pwd',				
				size:30,
				fieldLabel:'密码',
				minLength:6,
				minLengthText:'密码长度至少6位',
				inputType:'password'
			},{
				xtype:'button',
				text:'登录',
				width:60,
				formBind: true, //only enabled once the form is valid
        disabled: true,
				cls:'button',
        handler: function() {
          var form = this.up('form').getForm();
          if (form.isValid()) {
            form.submit({
                success: function(form, action) {
                   Ext.Msg.alert('Success', action.result.msg);
                },
                failure: function(form, action) {
                    Ext.Msg.alert('Failed', action.result.msg);
                }
            });
          }
        }
			},{
				xtype:'button',
				text:'重置',
				width:60,
				cls:'button',
				handler:function(){
					this.up('form').getForm().reset();
				}
			}]
		});
		var registForm=new Ext.form.Panel({
			title:'注册',
			renderTo:'regist',
			id:'registForm',
			height:300,
			url:'/Index/login',
			bodyStyle:'padding-top:30px;padding-left:15px;',
			defaults:{
				labelSeparator:':',
				labelWidth:90,
				height:30,
				allowBlank:false,
				blankText:'不允许为空',
				labelAlign:'left',
				msgTarget:'qtip'
			},
			items:[{
				xtype:'textfield',
				size:30,
				name:'vender_name',
				fieldLabel:'店铺账号'
			},{
				xtype:'textfield',
				name:'vender_pwd',				
				size:30,
				fieldLabel:'密码',
				minLength:6,
				minLengthText:'密码长度至少6位',
				inputType:'password'
			},{
				xtype:'textfield',
				size:30,
				fieldLabel:'确认密码',
				inputType:'password'
			},{
				xtype:'textfield',
				size:30,
				fieldLabel:'地址'
			},{
				xtype:'textfield',
				size:30,
				fieldLabel:'联系电话'
			},{
				xtype:'button',
				text:'登录',
				width:60,
				formBind: true, //only enabled once the form is valid
        disabled: true,
				cls:'button',
        handler: function() {
          var form = this.up('form').getForm();
          if (form.isValid()) {
            form.submit({
                success: function(form, action) {
                   Ext.Msg.alert('Success', action.result.msg);
                },
                failure: function(form, action) {
                    Ext.Msg.alert('Failed', action.result.msg);
                }
            });
          }
        }
			},{
				xtype:'button',
				text:'重置',
				width:60,
				cls:'button',
				handler:function(){
					this.up('form').getForm().reset();
				}
			}]
		});
		Ext.get('regist').setDisplayed(false);
		var tab_regist=Ext.get('tab_regist');
		var tab_login=Ext.get('tab_login');
		tab_regist.on('click', function(event) {
			tab_login.removeCls("tab_active");
			this.addCls("tab_active");
			Ext.get('login').setDisplayed(false);
			Ext.get('regist').setDisplayed(true);
		});
		tab_login.on('click', function(event) {
			tab_regist.removeCls("tab_active");
			this.addCls("tab_active");
			Ext.get('regist').setDisplayed(false);
			Ext.get('login').setDisplayed(true);
		});
	})
	</script>
</head>
<body>
<div id="top">
  <div class="container">
    <div>
      <a class="brand" style="width:600px">
          <span>
            <img width="40" height="35" src="__ROOT__/favicon.ico" alt="易通logo"> 易通商务管理系统
          </span>
      </a>
    </div>
  </div>
</div>
<div class="container" style="width:85%">
	<div class="row-fluid">
		<div class="span8">
			<div style="height:500px;">aaaaa</div>
		</div>
		<div class="span4">
			<div style="background-color:#abcde">
				<div class="tabbar">
					<ul>
						<li class="tab tab_active" id="tab_login"><a>登录</a></li>
						<li class="tab" id="tab_regist"><a>注册</a></li>
					</ul>
				</div>
				<div>
					<div id="login" style="margin-bottom:60px"></div>
					<div id="regist" style="margin-bottom:60px"></div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="footer">陕西省西安市|88372201 88372202
  <div class="footerhr">
    <hr>
  </div>
  Copyrights © 2013易通商务管理系统|
  <a target="_blank" href="http://www.miitbeian.gov.cn">陕ICP备08888888号-1</a>|陕公网安备8888888888
</div>
</body>
</html>